<!--<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@ include file="/webapp/common.jsp" %>-->
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>用户管理平台</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/jquery/jquery-1.8.3.js"></script>

    <style type="text/css">

        .table th, .table td {
            text-align: center;
            vertical-align: middle !important;
        }

        li {
            display: inline-block
        }

    </style>


    <script type="">
        $().ready(function () {
            $('#orChecked').change(function () {
                //debugger;
                if ($(this).is(':checked')) {
                    var box = $("input[name='checkbox']");
                    if (box.length == box.filter(':not(:checked)').length) {  // 复选框长度和没选中的个数一样 -> 全选 , .not(':checked').length 也可以。
                        $("input[name='checkbox']").attr('checked', true);
                    } else {   // 如果有选中个数，-> 反选
                        $("input[name='checkbox']").each(function () {
                            if ($(this).attr("checked")) {
                                $(this).removeAttr("checked");
                            } else {
                                $(this).attr("checked", "true");
                            }
                        });
                    }
                } else {
                    $("input[name='checkbox']:checkbox:checked").attr('checked', false);  // 如控制键取消选中，剩余的checkbox也取消选中////
                }
            });
        });

        function clearSearchForm() {
            $("#id").attr("value", "");
            $("#name").attr("value", "");
        }
    </script>
</head>
<form class="breadcrumb form-search form-inline" action="/user/list">
    <ul>
        <li>
            <label class="control-label">用户id：</label>
            <input type="text" style="width:160px;" id="id" class="form-control" name="id" th:value="${userId}"/>
        </li>

        <li>
            <label class="control-label">用户名：</label>
            <input type="text" style="width:160px;" id="name" class="form-control" name="name" th:value="${userName}"/>
        </li>

        <li class="btns" style="width:800px;">
            &nbsp;&nbsp;&nbsp;&nbsp;
            <button type="button" class="btn btn-primary" onclick="clearSearchForm()">重置</button>
            <button type="submit" class="btn btn-primary">查询</button>
        </li>
    </ul>

</form>
<table id="contentTable" class="table table-striped table-hover table-bordered table-condensed">
    <thead>
    <tr>
        <th><input type="checkbox" name="checkbox" id="orChecked">选择</th>
        <th>用户id</th>
        <th>用户名</th>
        <th>密码</th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="user:${userList}">
        <td><input type="checkbox"></td>
        <td th:text="${user.getId()}"></td>
        <td th:text="${user.getName()}"></td>
        <td th:text="${user.getPassword()}"></td>
        <td><a th:href="@{/user/updatePage(id=${user.getId()})}">修改信息</a></td>
    </tr>
    </tbody>
</table>
</html>
